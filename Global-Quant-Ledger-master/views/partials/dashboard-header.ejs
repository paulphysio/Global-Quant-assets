<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/output.css">
    <link rel="stylesheet" href="/stylesheets/dashboard.css">
    <title>Global Quant Assets | Dashboard</title>
    <script src="//code.tidio.co/qkilngwkvpvuctxiymroknjkejanpeyl.js" async></script>
</head>
<body class="min-h-screen">
  <% let notifications = currentUser.notifications %>

  <div class="min-h-screen relative bg-white">
    <!--DASHBOARD NAVIGATION-->
    <div class="relative z-20 h-16 md:h-14 flex items-center justify-between px-4">
      <div class="basis-full text-base font-bold text-black">
        <div class="flex items-center space-x-2">
          <a class="flex items-center space-x-1" href="/">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="w-3 h-3 text-black hover:text-black cursor-pointer"
            >
              <path
                fill-rule="evenodd"
                d="M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z"
                clip-rule="evenodd"
              />
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="w-6 h-6 text-black hover:text-amber-300 mr-1 cursor-pointer"
            >
              <path
                d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"
              />
              <path
                d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"
              />
            </svg>
          </a>
          <p><%= `${currentUser.fullName}` %></p>
        </div>
      </div>

      <div class="z-10 flex items-center space-x-2">
        <div id="notifications-button">
          <!-- NOTIFICATION ICON -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 text-black cursor-pointer"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"
            />
          </svg>
        </div>

        <!--OPEN AND CLOSE NAVIGATION ICONS -->
        <div>
          <svg
            id="open-button"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-10 h-10 md:h-8 md:w-8 md:mr-2 text-black-100 cursor-pointer p-2 md:p-1 text-black z-10"
            onclick="toggleNav()"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
            />
          </svg>

          <svg
            id="close-button"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-10 h-10 md:h-8 md:w-8 md:mr-2 text-black-100 hidden cursor-pointer p-2 md:p-1 text-black/90 z-10"
            onclick="toggleNav()"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </div>
      </div>

      <!-- NOTIFICATIONS BOX -->
      <div
        id="notifications"
        class="hidden absolute animate-pulse-in top-12 right-14 w-80 bg-white rounded-md border border-gray-400 p-3"
      >
        <div class="flex items-center justify-between">
          <p class="text-black font-semibold text-lg">Notifications</p>
          <a
            class="text-blue-400 hover:text-blue-500 transition-all font-semibold text-base"
            href="/account/notifications"
            >View all</a
          >
        </div>

        <% if(notifications.length >= 1) { %> 
        <% notifications.map((notif, i)  => { %> 
          <% if(i >= 3) { %> 
            <% return; %> 
          <% } %>
        <div
          class="flex w-full space-x-4 px-4 md:px-2 py-2 md:py-1 items-center justify-between text-base md:text-sm bg-gray-50 border-b border-b-gray-300 text-gray-900 font-semibold overflow-y-hidden"
        >
          <div class="flex flex-col basis-2/3">
            <p class="basis-1/5 text-black font-bold"><%= notif.title %></p>
            <p class="font-medium text-gray-400 text-sm font-recolecta">
              <%= notif.description.substring(0, 28) %>...
            </p>
            <p class="font-normal text-gray-500">
              <%= String(notif.date).substring(0, 15) %>
            </p>
          </div>

          <div class="basis-1/5 flex flex-col items-center">
            <% if(notif.status !== 'pending') { %>
            <div class="basis-1/5 flex items-center space-x-1 text-green-600">
              <p>Read</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="w-3 h-3"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M4.5 12.75l6 6 9-13.5"
                />
              </svg>
            </div>
            <% } else { %>
            <div class="basis-1/5 flex items-center space-x-1 text-gray-400">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"
                />
              </svg>
              <p>Pending</p>
            </div>
            <% } %>
          </div>
        </div>
          <% }) %> 
        <% } %>
      </div>

      <nav
        id="nav"
        class="nav hidden animate-slide flex-col h-screen py-12 px-6 absolute top-0 right-0 bg-white p-5 shadow-lg"
      >
        <div
          class="mt-10 space-y-3 flex flex-col items-end justify-between text-gray-600 text-base md:text-sm font-semibold"
        >
          <a
            href="/account/dashboard"
            class="bg-gray-900 text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Dashboard
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white/80 w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"
              />
            </svg>
          </a>
          <a
            href="/account/fund-account"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Fund Wallet
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white/80 only:w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"
              />
            </svg>
          </a>

          <a
            href="/account/withdraw"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Withdraw
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white/80 only:w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"
              />
            </svg>
          </a>

          <a
            href="/account/transactions"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Deposits
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white/80 w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"
              />
            </svg>
          </a>
          <a
            href="/account/withdrawals"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Withdrawals
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white/80 w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"
              />
            </svg>
          </a>

          <a
            href="/account/notifications"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Notifications
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white/80 w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"
              />
            </svg>
          </a>
  
          <a
            href="/account/link-wallet/"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Link Wallet
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="text-white/80 w-5 h-5 ml-2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />
            </svg>
            
          </a>
          <a
            href="https://uphold.com"
            target="_blank"
            class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Buy ISO Assets
            
            <img class="w-5 h-5 bg-white rounded-full p-0.5  ml-2" src="/images/crypto/xlm.svg" alt="">           
          </a>
          <a
          href="/account/profile/"
          class="bg-black text-white border border-amber-50/90 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
        >
          Profile
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="text-white/80 w-5 h-5 ml-2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
            />
          </svg>
        </a>
          
          <a
            href="/logout"
            class="text-white bg-red-500 transition-all flex items-center py-2 px-4 rounded-xl ml-2"
          >
            Logout
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="text-white w-5 h-5 ml-2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"
              />
            </svg>
          </a>
        </div>
      </nav>
    </div>
    <!-- Flash Messages -->
    <%- include ('./alert.ejs') %>
